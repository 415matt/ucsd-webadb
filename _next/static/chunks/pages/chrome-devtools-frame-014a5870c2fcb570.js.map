{"version":3,"file":"static/chunks/pages/chrome-devtools-frame-014a5870c2fcb570.js","mappings":"oFACA,CAAAA,OAAAC,QAAA,CAAAD,OAAAC,QAAA,MAAAC,IAAA,EACA,yBACA,WACA,OAAeC,EAAQ,KACvB,EACA,wFCFA,IAAMC,EAAaC,CAAAA,EAAAA,EAAAA,CAAAA,EAAW,CAC1BC,KAAM,CACF,sCAAuC,CACnCC,gBAAiB,kBACjBC,MAAO,MACX,CACJ,CACJ,GAEA,SAASC,GAAsB,CAC3B,IAAMC,EAAUN,IA8FhB,MA5FAO,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,IAAM,CACZ,MAAIC,EAAoBC,WAAWC,SAAS,CAC5CD,WAAWC,SAAS,CAAAC,CAAAA,CAAAA,EAAG,cAAwBC,YAsE3CC,KAAKC,CAAiB,CAAE,CACpB,IAAI,CAACC,KAAK,CAACC,WAAW,CAAC,CAAEC,KAAM,UAAWC,QAASJ,CAAK,EAC5D,CAEOK,OAAQ,CACX,IAAI,CAACJ,KAAK,CAACC,WAAW,CAAC,CAAEC,KAAM,OAAQ,GACvC,IAAI,CAACF,KAAK,CAACI,KAAK,EACpB,CA7CAC,YAAYC,CAAW,CAAE,CACrB,KAAK,QA3BOC,UAAAA,CAAgB,OAChBC,IAAAA,CAAU,OACVC,OAAAA,CAAa,OACbC,MAAAA,CAAY,OAErBC,UAAAA,CAAyB,mBAChBC,cAAAA,CAAyB,OACzBC,UAAAA,CAAqB,QAErBC,QAAAA,CAAmB,QACnBC,UAAAA,CAAqB,OAK9BC,OAAAA,CACH,IAAI,CAC8E,KAC/EC,OAAAA,CAAwD,IAAI,CACqB,KACjFC,SAAAA,CAEM,IAAI,CACoE,KAC9EC,MAAAA,CAAuD,IAAI,CAK9DC,QAAQC,GAAG,CAAC,wBAAyBf,GACrC,IAAI,CAACA,GAAG,CAAGA,EAEX,IAAIgB,EAAU,IAAIC,eAGlB,GAFA,IAAI,CAACvB,KAAK,CAAGsB,EAAQE,KAAK,CAEtBlB,EAAImB,QAAQ,CAAC,WAGb,OAFA,IAAI,CAACzB,KAAK,CAACI,KAAK,GAET,IAAIX,EAAkBa,EAChC,CAED,IAAI,CAACN,KAAK,CAACkB,SAAS,CAAG,GAAO,KAGlBQ,EAGAC,EAOAC,EAZR,OAAQC,EAAE9B,IAAI,CAACG,IAAI,EACf,IAAK,OACD,IAAW,GAAXwB,CAAAA,EAAA,IAAI,CAACP,MAAM,GAAXO,KAAA,IAAAA,GAAAA,EAAAI,IAAA,KAAI,CAAU,IAAIC,MAAM,SACxB,KAAM,KACL,UACD,IAAc,GAAdJ,CAAAA,EAAA,IAAI,CAACT,SAAS,GAAdS,KAAA,IAAAA,GAAAA,EAAAG,IAAA,KAAI,CACA,IAAIE,aAAa,UAAW,CACxBjC,KAAM8B,EAAE9B,IAAI,CAACI,OAAO,IAG5B,KAAM,KACL,QACD,IAAY,GAAZyB,CAAAA,EAAA,IAAI,CAACZ,OAAO,GAAZY,KAAA,IAAAA,GAAAA,EAAAE,IAAA,KAAI,CAAW,IAAIG,WAAW,UAC9B,IAAI,CAACjC,KAAK,CAACI,KAAK,EAExB,CACJ,EACAV,WAAWO,WAAW,CAAC,CAAEC,KAAM,eAAgBI,IAAAA,CAAI,EAAG,IAAK,CACvDgB,EAAQY,KAAK,CAChB,CACL,CAUJ,GA7E2B3B,UAAAA,CAAgB,IAChBC,IAAAA,CAAU,IACVC,OAAAA,CAAa,IACbC,MAAAA,CAAY,KA2EvCU,QAAQC,GAAG,CAAC,oBAEZ,IAAMc,EAASC,SAASC,aAAa,CAAC,SACtCF,CAAAA,EAAOjC,IAAI,CAAG,SACdiC,EAAOG,GAAG,CAAG,IAAIC,gBAAgBC,SAASC,MAAM,EAAEC,GAAG,CACjD,UAEJN,SAASjD,IAAI,CAACwD,WAAW,CAACR,EAC9B,EAAG,EAAE,EAID,GAAAS,EAAAC,IAAA,EAACC,EAAAA,CAAKA,CAAAA,CACFC,UAAWxD,EAAQJ,IAAI,CACvB6D,aAAY,GACZC,cAAc,SACdC,gBAAgB,mBAEhB,GAAAN,EAAAO,GAAA,EAACC,MAAAA,UAAI,wBACL,GAAAR,EAAAO,GAAA,EAACC,MAAAA,UAAI,oCAGjB,CAEA9D,EAAoB+D,QAAQ,CAAG,GAE/BC,EAAA,QAAehE","sources":["webpack://_N_E/?756f","webpack://_N_E/./src/pages/chrome-devtools-frame.tsx","webpack://_N_E/<anon>"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/chrome-devtools-frame\",\n      function () {\n        return require(\"private-next-pages/chrome-devtools-frame.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/chrome-devtools-frame\"])\n      });\n    }\n  ","import { Stack } from \"@fluentui/react\";\r\nimport { makeStyles } from \"@griffel/react\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst useClasses = makeStyles({\r\n    body: {\r\n        \"@media (prefers-color-scheme: dark)\": {\r\n            backgroundColor: \"rgb(41, 42, 45)\",\r\n            color: \"#ddd\",\r\n        },\r\n    },\r\n});\r\n\r\nfunction ChromeDevToolsFrame() {\r\n    const classes = useClasses();\r\n\r\n    useEffect(() => {\r\n        var WebSocketOriginal = globalThis.WebSocket;\r\n        globalThis.WebSocket = class WebSocket extends EventTarget {\r\n            public static readonly CONNECTING: 0 = 0;\r\n            public static readonly OPEN: 1 = 1;\r\n            public static readonly CLOSING: 2 = 2;\r\n            public static readonly CLOSED: 3 = 3;\r\n\r\n            public readonly CONNECTING: 0 = 0;\r\n            public readonly OPEN: 1 = 1;\r\n            public readonly CLOSING: 2 = 2;\r\n            public readonly CLOSED: 3 = 3;\r\n\r\n            public binaryType: BinaryType = \"arraybuffer\";\r\n            public readonly bufferedAmount: number = 0;\r\n            public readonly extensions: string = \"\";\r\n\r\n            public readonly protocol: string = \"\";\r\n            public readonly readyState: number = 1;\r\n            public readonly url: string;\r\n\r\n            private _port: MessagePort;\r\n\r\n            public onclose: ((this: WebSocket, ev: CloseEvent) => any) | null =\r\n                null;\r\n            /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/WebSocket/error_event) */\r\n            public onerror: ((this: WebSocket, ev: Event) => any) | null = null;\r\n            /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/WebSocket/message_event) */\r\n            public onmessage:\r\n                | ((this: WebSocket, ev: MessageEvent) => any)\r\n                | null = null;\r\n            /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/WebSocket/open_event) */\r\n            public onopen: ((this: WebSocket, ev: Event) => any) | null = null;\r\n\r\n            constructor(url: string) {\r\n                super();\r\n\r\n                console.log(\"WebSocket constructor\", url);\r\n                this.url = url;\r\n\r\n                var channel = new MessageChannel();\r\n                this._port = channel.port1;\r\n\r\n                if (url.includes(\"/_next/\")) {\r\n                    this._port.close();\r\n                    // @ts-ignore\r\n                    return new WebSocketOriginal(url);\r\n                }\r\n\r\n                this._port.onmessage = (e) => {\r\n                    switch (e.data.type) {\r\n                        case \"open\":\r\n                            this.onopen?.(new Event(\"open\"));\r\n                            break;\r\n                        case \"message\":\r\n                            this.onmessage?.(\r\n                                new MessageEvent(\"message\", {\r\n                                    data: e.data.message,\r\n                                })\r\n                            );\r\n                            break;\r\n                        case \"close\":\r\n                            this.onclose?.(new CloseEvent(\"close\"));\r\n                            this._port.close();\r\n                            break;\r\n                    }\r\n                };\r\n                globalThis.postMessage({ type: \"AdbWebSocket\", url }, \"*\", [\r\n                    channel.port2,\r\n                ]);\r\n            }\r\n\r\n            send(data: ArrayBuffer) {\r\n                this._port.postMessage({ type: \"message\", message: data });\r\n            }\r\n\r\n            public close() {\r\n                this._port.postMessage({ type: \"close\" });\r\n                this._port.close();\r\n            }\r\n        } as typeof WebSocket;\r\n        console.log(\"WebSocket hooked\");\r\n\r\n        const script = document.createElement(\"script\");\r\n        script.type = \"module\";\r\n        script.src = new URLSearchParams(location.search).get(\r\n            \"script\"\r\n        ) as string;\r\n        document.body.appendChild(script);\r\n    }, []);\r\n\r\n    // DevTools will set `document.title` to debugged page's title.\r\n    return (\r\n        <Stack\r\n            className={classes.body}\r\n            verticalFill\r\n            verticalAlign=\"center\"\r\n            horizontalAlign=\"center\"\r\n        >\r\n            <div>Loading DevTools...</div>\r\n            <div>(requires network connection)</div>\r\n        </Stack>\r\n    );\r\n}\r\n\r\nChromeDevToolsFrame.noLayout = true;\r\n\r\nexport default ChromeDevToolsFrame;\r\n"],"names":["window","__NEXT_P","push","__webpack_require__","useClasses","makeStyles","body","backgroundColor","color","ChromeDevToolsFrame","classes","useEffect","WebSocketOriginal","globalThis","WebSocket","_WebSocket","EventTarget","send","data","_port","postMessage","type","message","close","constructor","url","CONNECTING","OPEN","CLOSING","CLOSED","binaryType","bufferedAmount","extensions","protocol","readyState","onclose","onerror","onmessage","onopen","console","log","channel","MessageChannel","port1","includes","_this_onopen","_this_onmessage","_this_onclose","e","call","Event","MessageEvent","CloseEvent","port2","script","document","createElement","src","URLSearchParams","location","search","get","appendChild","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","Stack","className","verticalFill","verticalAlign","horizontalAlign","jsx","div","noLayout","__webpack_exports__"],"sourceRoot":""}